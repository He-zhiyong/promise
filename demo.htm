<!DOCTYPE html>
<html>
<head>
	<title>demo</title>
</head>
<body>

<script type="text/javascript" src="promise.js"></script>

<script type="text/javascript">

Promise.resolve('test').then(function(val){
	console.log(val);
	return val + val;
}).then(function(val){
	console.log(val);
});

var getData100 = function(){
	return Promise(function(resolve,reject){
		setTimeout(function(){
			resolve('100ms');
		},100);
	});
}

var getData200 = function(){
	return Promise(function(resolve,reject){
		setTimeout(function(){
			resolve('200ms');
		},200);
	});
}

// Promise.all([getData100(),getData200()]).then(function(value){
// 	console.log(value)
// });

// Promise.race([getData100(),getData200()]).then(function(value){
// 	console.log(value)
// }).catch(function(reason){
// 	console.log(reason)
// });

getData100().then(function(data){
	console.log(data);
	return getData200();
}).then(function(data){
	console.log(data);
	return data + data;
},function(err){
	console.log(err);
}).then(function(data){
	console.log(data)
},function(err){
	console.log(err);
});

</script>
</body>
</html>